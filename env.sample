# /opt/docker-stack/.env (Multi-Tenant Example)
# --- General ---
TZ=Europe/London # <--- CHANGE THIS (Your Timezone)
PUID=1000
PGID=1000

# --- Domains ---
# Your main domain name used for hosting services
DOMAIN=yourdomain.com # <--- CHANGE THIS
# Base domain for tenant subdomains (can be same as DOMAIN or different)
TENANT_BASE_DOMAIN=${DOMAIN} # <--- CHANGE THIS if needed
# Email domain (can be same as DOMAIN or different)
EMAIL_DOMAIN=${DOMAIN} # <--- CHANGE THIS (Domain used for Mailu)

# --- Tenant Specific Domains (Example for tenant1) ---
# You will need similar variables for tenant2, tenant3 etc.
TENANT1_ID=tenant1 # Short identifier
TENANT1_ERP_DOMAIN=${TENANT1_ID}.erp.${TENANT_BASE_DOMAIN} # e.g., tenant1.erp.yourdomain.com
TENANT1_NEXTCLOUD_DOMAIN=${TENANT1_ID}.nextcloud.${TENANT_BASE_DOMAIN} # e.g., tenant1.nextcloud.yourdomain.com
# TENANT1_EMAIL_DOMAIN=${TENANT1_ID}.${EMAIL_DOMAIN} # Optional: if each tenant has its own email subdomain

# --- Traefik ---
TRAEFIK_DOMAIN=traefik.${DOMAIN} # Optional dashboard domain
ACME_EMAIL=your-email@${DOMAIN} # <--- CHANGE THIS (Let's Encrypt Email)
# Optional: Basic Auth for Traefik Dashboard
# TRAEFIK_AUTH_USER=admin
# TRAEFIK_AUTH_PASS_HASHED= # <--- Generate htpasswd hash

# --- Keycloak (SSO) ---
KEYCLOAK_DOMAIN=sso.${DOMAIN} # <--- CHANGE THIS (Domain for Keycloak)
KEYCLOAK_ADMIN_USER=keycloak_admin # <--- CHANGE THIS
KEYCLOAK_ADMIN_PASSWORD=keycloak_admin_strong_password # <--- CHANGE THIS
# Keycloak Database (PostgreSQL)
KEYCLOAK_DB_USER=keycloak
KEYCLOAK_DB_PASSWORD=keycloak_db_strong_password # <--- CHANGE THIS
KEYCLOAK_DB_DATABASE=keycloak
KEYCLOAK_DB_HOST=keycloak-db # Service name in Docker Compose

# --- ERPNext Database (MariaDB - Shared Instance, Separate DBs per site) ---
MYSQL_ROOT_PASSWORD=erp_db_root_strong_password # <--- CHANGE THIS
# Note: User/Password/Database for specific tenant sites are usually managed by `bench new-site`

# --- ERPNext Site (Base Setup) ---
# Initial password for the 'Administrator' user on the *first* site created
ADMIN_PASSWORD=erp_admin_strong_password # <--- CHANGE THIS

# --- Nextcloud Instances (Example for tenant1) ---
# You need separate DB credentials for each tenant's Nextcloud instance
TENANT1_NC_DB_PASSWORD=tenant1_nc_db_strong_password # <--- CHANGE THIS
TENANT1_NC_DB_USER=nextcloud_tenant1
TENANT1_NC_DB_NAME=nextcloud_tenant1
TENANT1_NC_ADMIN_USER=tenant1_nc_admin # <--- CHANGE THIS
TENANT1_NC_ADMIN_PASSWORD=tenant1_nc_admin_strong_password # <--- CHANGE THIS

# --- OnlyOffice (Shared Instance) ---
ONLYOFFICE_DOMAIN=onlyoffice.${DOMAIN} # <--- CHANGE THIS
ONLYOFFICE_JWT_SECRET=onlyoffice_strong_jwt_secret # <--- CHANGE THIS (Used by all Nextcloud tenants)

# --- n8n (Shared Instance) ---
N8N_DOMAIN=n8n.${DOMAIN} # <--- CHANGE THIS
N8N_BASIC_AUTH_USER=n8n_admin_user # <--- CHANGE THIS
N8N_BASIC_AUTH_PASSWORD=n8n_admin_strong_password # <--- CHANGE THIS

# --- Redis (Shared Instance with separate DBs or separate instances) ---
# Optional: Redis password
# REDIS_PASSWORD=redis_strong_password # <--- UNCOMMENT AND CHANGE THIS

# --- Mailu (Email Server) ---
# Primary hostname for the mail server itself (e.g., mail.yourdomain.com)
MAILU_HOSTNAME=mail.${EMAIL_DOMAIN} # <--- CHANGE THIS
# Mailu UI domain (can be same as HOSTNAME or different)
MAILU_DOMAIN=${MAILU_HOSTNAME} # <--- CHANGE THIS (Often same as hostname)
# Secret key for Mailu internal communication (generate a strong random string)
MAILU_SECRET_KEY=mailu_very_strong_secret_key_32_chars # <--- CHANGE THIS (32 chars)
# Default password scheme for Mailu (e.g., BLF-CRYPT, SHA512-CRYPT)
MAILU_PASSWORD_SCHEME=BLF-CRYPT
# Mailu database (uses internal SQLite by default, can be configured for external DB)
# Mailu Admin UI Path
MAILU_WEB_ADMIN=/admin # Default
# Mailu Webmail Path
MAILU_WEB_WEBMAIL=/webmail # Default (set to / if hosting webmail at MAILU_DOMAIN root)
# Mailu Pod Namespace (used for Kubernetes, can set for Docker too)
POD_NAMESPACE=mailu
# Mailu Message Size Limit (e.g., 50MB)
MESSAGE_SIZE_LIMIT=50000000

